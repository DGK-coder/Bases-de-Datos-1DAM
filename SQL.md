# COMANDOS PARA MARIADB
## CREAR BASE DE DATOS Y USARLA
```bash
CREATE DATABASE TiendasDeVideojuegos;
```
```bash
use TiendasDeVideojuegos;
```
## CREACIÓN DE TABLAS
### TABLA `PROVINCIA`
```bash
CREATE TABLE PROVINCIA(
    codProvincia VARCHAR(10),
    nombre VARCHAR(100),
    CONSTRAINT PK_Provincia PRIMARY KEY (codProvincia)
);
```
### TABLA `PRODUCTO`
```bash
CREATE TABLE PRODUCTO(
    id VARCHAR(10),
    stock INT,
    fechaVenta DATE,
    CONSTRAINT PK_PRODUCTO PRIMARY KEY (id)
);
```
### TABLA `PROVENIR`
```bash
CREATE TABLE PROVENIR(
    idProducto VARCHAR(10),
    codProvincia VARCHAR(10),
    CONSTRAINT PK_PROVENIR PRIMARY KEY (idProducto, codProvincia),
    CONSTRAINT FK_PROVENIR_PRODUCTO FOREIGN KEY (idProducto) REFERENCES PRODUCTO(id)
        ON DELETE CASCADE
        ON UPDATE CASCADE,
    CONSTRAINT FK_PROVENIR_PROVINCIA FOREIGN KEY (codProvincia) REFERENCES PROVINCIA(codProvincia)
        ON DELETE NO ACTION
        ON UPDATE CASCADE
);
```
### TABLA `CATEGORIA`
```bash
CREATE TABLE CATEGORIA(
    id VARCHAR(10),
    nombre VARCHAR(100),
    CONSTRAINT PK_CATEGORIA PRIMARY KEY (id)
);
```
### TABLA `PERTENECER`
```bash
CREATE TABLE PERTENECER(
    idCategoria VARCHAR(10),
    idProducto VARCHAR(10),
    CONSTRAINT PK_PERTENECER PRIMARY KEY (idCategoria, idProducto),
    CONSTRAINT FK_PERTENECER_CATEGORIA_IDCATEGORIA FOREIGN KEY (idCategoria) REFERENCES CATEGORIA(id)
        ON DELETE SET NULL
        ON UPDATE CASCADE,
    CONSTRAINT FK_PERTENECER_CATEGORIA_IDPRODUCTO FOREIGN KEY (idProducto) REFERENCES PRODUCTO(id)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
### TABLA `TIENDA`
```bash
CREATE TABLE TIENDA(
    codTienda VARCHAR(10),
    direccion VARCHAR(200),
    codProvincia VARCHAR(10),
    cantidad INT,
    CONSTRAINT PK_TIENDA PRIMARY KEY (codTienda),
    CONSTRAINT FK_TIENDA_PROVINCIA FOREIGN KEY (codProvincia) REFERENCES PROVINCIA(codProvincia)
        ON DELETE NO ACTION
        ON UPDATE CASCADE
);
```
### TABLA `TELEFONO`
```bash
CREATE TABLE TELEFONO(
    numero INT,
    codTienda VARCHAR(10),
    CONSTRAINT PK_TELEFONO PRIMARY KEY (numero),
    CONSTRAINT FK_TELEFONO_TIENDA FOREIGN KEY (codTienda) REFERENCES TIENDA(codTienda)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
### TABLA `DISPONER`
```bash
CREATE TABLE DISPONER(
    idProducto VARCHAR(10),
    codTienda VARCHAR(10),
    CONSTRAINT PK_DISPONER PRIMARY KEY (idProducto, codTienda),
    CONSTRAINT FK_DISPONER_PRODUCTO FOREIGN KEY (idProducto) REFERENCES PRODUCTO(id)
        ON DELETE CASCADE
        ON UPDATE CASCADE,
    CONSTRAINT FK_DISPONER_TIENDA FOREIGN KEY (codTienda) REFERENCES TIENDA(codTienda)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
### TABLA `SALA`
```bash
CREATE TABLE SALA(
    num VARCHAR(2),
    codTienda VARCHAR(10),
    metrosCua INT,
    nombre VARCHAR(100),
    CONSTRAINT PK_SALA PRIMARY KEY (num),
    CONSTRAINT FK_SALA_TIENDA FOREIGN KEY (codTienda) REFERENCES TIENDA(codTienda)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
### TABLA `PERSONAL`
```bash
CREATE TABLE PERSONAL(
    dni CHAR(9),
    nombre VARCHAR(100),
    apellido1 VARCHAR(100),
    apellido2 VARCHAR(100),
    codTienda VARCHAR(10),
    CONSTRAINT PK_PERSONAL PRIMARY KEY (dni),
    CONSTRAINT FK_PERSONAL_TIENDA FOREIGN KEY (codTienda) REFERENCES TIENDA(codTienda)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
### TABLA `DEPENDIENTE`
```bash
CREATE TABLE DEPENDIENTE(
    dniDependiente CHAR(9),
    corrIdent VARCHAR(100),
    CONSTRAINT PK_DEPENDIENTE PRIMARY KEY (dniDependiente),
    CONSTRAINT FK_DEPENDIENTE_PERSONAL FOREIGN KEY (dniDependiente) REFERENCES PERSONAL(dni)
        ON DELETE SET NULL
        ON UPDATE CASCADE
);
```
### TABLA `VENDER`
```bash
CREATE TABLE VENDER(
    dniDependiente CHAR(9),
    idProducto VARCHAR(10),
    cantidad INT,
    CONSTRAINT PK_VENDER PRIMARY KEY (dniDependiente, idProducto),
    CONSTRAINT FK_VENDER_DEPENDIENTE FOREIGN KEY (dniDependiente) REFERENCES DEPENDIENTE(dniDependiente)
        ON DELETE SET NULL
        ON UPDATE CASCADE,
    CONSTRAINT FK_VENDER_PRODUCTO FOREIGN KEY (idProducto) REFERENCES PRODUCTO(id)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
### TABLA `LIMPIEZA`
```bash
CREATE TABLE LIMPIEZA(
    dniLimpieza CHAR(9),
    CONSTRAINT PK_LIMPIEZA PRIMARY KEY (dniLimpieza),
    CONSTRAINT FK_LIMPIEZA_PERSONAL FOREIGN KEY (dniLimpieza) REFERENCES PERSONAL(dni)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
### TABLA `LIMPIAR`
```bash
CREATE TABLE LIMPIAR(
    dniLimpieza CHAR(9),
    numSala VARCHAR(2),
    codTienda VARCHAR(10),
    CONSTRAINT PK_LIMPIAR PRIMARY KEY (dniLimpieza, numSala, codTienda),
    CONSTRAINT FK_LIMPIAR_LIMPIEZA FOREIGN KEY (dniLimpieza) REFERENCES LIMPIEZA(dniLimpieza)
        ON DELETE SET NULL
        ON UPDATE CASCADE,
    CONSTRAINT FK_LIMPIAR_SALA_NUMSALA FOREIGN KEY (numSala) REFERENCES SALA(num)
        ON DELETE CASCADE
        ON UPDATE CASCADE,
    CONSTRAINT FK_LIMPIAR_SALA_CODTIENDA FOREIGN KEY (codTienda) REFERENCES SALA(codTienda)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
### TABLA `ENSENYAR`
```bash
CREATE TABLE ENSENYAR(
    dniEns CHAR(9),
    dniApr CHAR(9),
    tiempo DATE,
    CONSTRAINT PK_ENSENYAR PRIMARY KEY (dniEns, dniApr),
    CONSTRAINT FK_ENSENYAR_DEPENDIENTE_DNIENS FOREIGN KEY (dniEns) REFERENCES DEPENDIENTE(dniDependiente)
        ON DELETE CASCADE
        ON UPDATE CASCADE,
    CONSTRAINT FK_ENSENYAR_DEPENDIENTE_DNIAPR FOREIGN KEY (dniApr) REFERENCES DEPENDIENTE(dniDependiente)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
## INSERCIÓN EN LAS TABLAS